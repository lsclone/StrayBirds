---
layout: post
title: linux相关知识总结
category: 技术
---

####相关工作如下：(补充中...)

####一. linux基础

*1. gcc/g++*

GCC Compiler Options

    $ g++ -Wall -g -o Hello.exe Hello.cpp

Compile and Link Separately

    // Compile-only with -c option
    > g++ -c -Wall -g Hello.cpp
    // Link object file(s) into an executable
    > g++ -g -o Hello.exe Hello.o

Try list the default include-paths in your system used by the "GNU C Preprocessor" via "cpp -v":

    > cpp -v
    ......
    #include "..." search starts here:
    #include <...> search starts here:
     d:\mingw\bin\../lib/gcc/mingw32/4.6.2/include             // d:\mingw\lib\gcc\mingw32\4.6.2\include
     d:\mingw\bin\../lib/gcc/mingw32/4.6.2/../../../../include // d:\mingw\include
     d:\mingw\bin\../lib/gcc/mingw32/4.6.2/include-fixed       // d:\mingw\lib\gcc\mingw32\4.6.2\include-fixed

Try running the compilation in verbose mode (-v) to study the library-paths (-L) and libraries (-l) used in your system:

    > gcc -v -o hello.exe hello.c
    ......
    -Ld:/mingw/bin/../lib/gcc/mingw32/4.6.2                         // d:\mingw\lib\gcc\mingw32\4.6.2
    -Ld:/mingw/bin/../lib/gcc                                       // d:\mingw\lib\gcc
    -Ld:/mingw/bin/../lib/gcc/mingw32/4.6.2/../../../../mingw32/lib // d:\mingw\mingw32\lib
    -Ld:/mingw/bin/../lib/gcc/mingw32/4.6.2/../../..                // d:\mingw\lib
    -lmingw32     // libmingw32.a
    -lgcc_eh      // libgcc_eh.a
    -lgcc         // libgcc.a
    -lmoldname
    -lmingwex
    -lmsvcrt
    -ladvapi32
    -lshell32
    -luser32 
    -lkernel32

The utility "ldd" examines an executable and displays a list of the shared libraries that it needs. For example

    > ldd hello.exe
    ntdll.dll => /cygdrive/c/Windows/SYSTEM32/ntdll.dll (0x77bd0000)
    kernel32.dll => /cygdrive/c/Windows/system32/kernel32.dll (0x77600000)
    KERNELBASE.dll => /cygdrive/c/Windows/system32/KERNELBASE.dll (0x75fa0000)
    msvcrt.dll => /cygdrive/c/Windows/system32/msvcrt.dll (0x763f0000)
    
编译静态库需要注意：

    > g++ -c math.cpp
    > ar -r libmath.a math.o
    
编译动态库需要注意：

    > export LD_LIBRARY_PATH=./:$LD_LIBRARY_PATH                // add ./ to LD_LIBRARY_PATH
    > g++ -fPIC -c hello.cpp                                    // add -fPIC
    > g++ -shared -fPIC -o libhello.so hello.o -L./ -lmath      // add libmath.a to libhello.so

Makefile宏定义：

    > CFLAGS = -g -Wall -std=c++11
    > CFLAGS += -DTEST_ADD
    > CFLAGS += -DTEST_SUB=1

相关链接：

* [GCC/G++ and Makefile](https://www3.ntu.edu.sg/home/ehchua/programming/cpp/gcc_make.html "Markdown")
* [A Simple Makefile Tutorial](http://www.cs.colby.edu/maxwell/courses/tutorials/maketutor/ "Markdown")
* [Linux静态库动态库相关问题总结](http://blog.163.com/xychenbaihu@yeah/blog/static/13222965520101023104745738/ "Markdown")
* [Linux学习笔记——例说makefile 增加宏定义](http://blog.csdn.net/xukai871105/article/details/37079159 "Markdown")

*2. emacs操作简介*

C-代表按住Ctrl键, M-代表按住Alt键

    C-g        取消当前操作指令

查找

    C-s 
      C-s        查找下一个
      C-r        查找上一下
      C-g        一次返回，二次结束查找
      回车       停止到当前查找到的内容
  
文件操作

    C-x C-c        退出emacs
    C-x C-f        打开文件
    C-x C-s        保存文件
    C-x k          不保存已修改内容

*3. ar、nm操作简介*

参考网址: [三个linux指令： ar, nm, objdump](http://blog.csdn.net/princess9/article/details/6785108 "Markdown")


*4. readelf操作简介*

*参考网址*：

* [如何查看编译信息](http://bbs.csdn.net/topics/380000949 "Markdown")
* [Linux中ELF格式文件介绍](http://blog.chinaunix.net/uid-9525959-id-2001831.html "Markdown")

readelf (查看ELF文件信息，包含.a、.so、可执行文件)，例如：

    >$ readelf -h /bin/cp
    >$ Machine:                           Advanced Micro Devices X86-64 或者 ARM(android)

####二. shell脚本、Makefile编写

####三. Ubuntu相关， apt-get install ...

####四. 其他相关基础知识，包括sqlite等相关开源代码
