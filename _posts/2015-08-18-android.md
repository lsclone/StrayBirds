---
layout: post
title: Android开发随笔
category: 技术
---

**陆续添加中...**

#### 1. 按钮Button触发实现

#### 2. 图片Image缩放

```
ImageView imv = (ImageView) findViewById(R.id.imageView1);

//取得屏幕的显示大小
Display currentDisplay = getWindowManager().getDefaultDisplay();
int dw = currentDisplay.getWidth();
int dh = currentDisplay.getHeight();

//对拍出的照片进行缩放
BitmapFactory.Options bmpFactoryOptions = new BitmapFactory.Options();
bmpFactoryOptions.inJustDecodeBounds = true;
Bitmap bmp = BitmapFactory.decodeFile(Environment.getExternalStorageDirectory()
                      .getAbsolutePath() + "/mypicture.jpg", bmpFactoryOptions);

int heightRatio = (int) Math.ceil(bmpFactoryOptions.outHeight / (float) dh);
int widthRatio = (int) Math.ceil(bmpFactoryOptions.outWidth / (float) dw);

if (heightRatio > 1 && widthRatio > 1) {
    if (heightRatio > widthRatio) {
        bmpFactoryOptions.inSampleSize = heightRatio;
    } else {
        bmpFactoryOptions.inSampleSize = widthRatio;
    }
}

bmpFactoryOptions.inJustDecodeBounds = false;
bmp = BitmapFactory.decodeFile(imageFilePath, bmpFactoryOptions);

imv.setImageBitmap(bmp);
```

#### 3. 控件显示/隐藏设置：

```
  // This view is invisible, and it doesn't take any space for layout purposes.
  View.setVisibility(View.GONE);
  
  // This view is invisible, but it still takes up space for layout purposes.
  View.setVisibility(View.INVISIBLE);
  
  // This view is visible.
  View.setVisibility(View.VISIBLE);
```

#### 4. View绘制流程

**循环调用onDraw**

```
public View(Context context, AttributeSet attrs) {
  ...
  setWillNotDraw(false); // call onDraw
  ...
}
```

```
@Override
protected void onDraw(Canvas canvas) {
  ...
  invalidate(); // call onDraw again
  ...
}
```

详细参考： [Android中View绘制流程以及invalidate()等相关方法分析](http://blog.csdn.net/qinjuning/article/details/7110211 "Markdown")


**相关网址：**

1. [Android官网帮助文档](http://developer.android.com/reference/packages.html "Markdown")
