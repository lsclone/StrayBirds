---
layout: post
title: C#小结
category: 技术
---

####1. HttpClient

*参考网址：*

* [.NET HttpClient. How to POST string value?](http://stackoverflow.com/questions/15176538/net-httpclient-how-to-post-string-value "c#")
* [C# program that uses HttpClient](https://www.dotnetperls.com/httpclient "c#")
* [Upload image using HttpClient](http://stackoverflow.com/questions/27425043/upload-image-using-httpclient "c#")
* [C# HttpClient 4.5 multipart/form-data upload](http://stackoverflow.com/questions/16416601/c-sharp-httpclient-4-5-multipart-form-data-upload "c#")
* [HttpClient Multipart Form Post in C#](http://stackoverflow.com/questions/18059588/httpclient-multipart-form-post-in-c-sharp"c#")
* [How to use System.Net.HttpClient to post a complex type](How to use System.Net.HttpClient to post a complex type? "c#")

####2. async Task\<value\> function

*参考网址：* [Sign up
How to return a string from async](http://stackoverflow.com/questions/31536082/how-to-return-a-string-from-async "async")

####3. Update controls in work thread

```
public partial class Form1 : Form
{
    this.Invoke((MethodInvoker)delegate
    {
        this.label1.Text = "...";
    });
}
```

*参考网址：* [Update label text in background worker winforms](http://stackoverflow.com/questions/15759688/update-label-text-in-background-worker-winforms "c-sharp")

####4. c# invoke c++ dll

*参考网址：*

* [C#调用C++ dll的两种方法](http://blog.csdn.net/yl2isoft/article/details/49386365 "dll")
* [C#调用C++的方法](http://www.cnblogs.com/cdbean/archive/2011/01/29/1947583.html "dll")

####5. control redraw(update/repaint)

*参考网址：* [How to have a control redraw the Windows form](http://stackoverflow.com/questions/23910733/how-to-have-a-control-redraw-the-windows-form "redraw")

####6. c# parse json

*参考网址：* [c# 解析JSON的几种办法](http://www.cnblogs.com/ambar/archive/2010/07/13/parse-json-via-csharp.html "json")

####7. control resize with form

*参考网址：* [C#当窗体大小改变时，窗体中的控件大小也随之改变](http://www.cnblogs.com/slyzly/articles/1965965.html "resize")

####8. opentk & opentk.glcontrol

```
1. add NuGet Package Manager to Visual Studio
2. add opentk.dll and opentk.glcontrol throught NuGet Package Manager Console
3. now in C# project' reference, both dll can be found.
4. implement SomeControl inherit from GLControl like this:
    public partial class MyControl : GLControl
    {
        public MyControl()
            : base(new GraphicsMode(32, 24, 8, 4), 3, 1, GraphicsContextFlags.ForwardCompatible)
        {
            InitializeComponent();
        }
    }
5. add this contrl to Form like this:
partial class MyForm
{
    private void InitializeComponent()
    {
        // 
        // glshow
        //
        this.glshow.BackColor = System.Drawing.Color.Black;
        this.glshow.Location = new System.Drawing.Point(0, 0);
        this.glshow.Name = "gl";
        this.glshow.Size = new System.Drawing.Size(800, 600);
        this.glshow.TabIndex = 0;
        this.glshow.VSync = false;
        this.glshow.Load += new System.EventHandler(this.Show_Load);
        this.glshow.Paint += new System.Windows.Forms.PaintEventHandler(this.Show_Paint);
        this.glshow.Resize += new System.EventHandler(this.Show_Resize);
        
        //
        // MyForm
        //
        this.Controls.Add(this.glshow);
    }

    private MyControl glshow;
}
6. implement function MyForm.Show_Load MyForm.Show_Paint MyForm.Show_Resize using GL language.
7. just remember invoke glhow.SwapBuffers() after opengl render(in Show_Paint and Show_Resize)
```

*参考网址：*

* [github opentk](https://github.com/opentk/opentk "opentk")
* [OpenGL in C# – an object oriented introduction to OpenTK](https://www.dotnetcodegeeks.com/2015/04/opengl-in-c-an-object-oriented-introduction-to-opentk-3.html "opentk")
* [OpenTK a simple 2d clock design in windows form C# (basic OpenTK-2)](https://kishordgupta.wordpress.com/2010/12/21/opentk-a-simple-2d-clock-design-in-windows-form-c-basic-opentk-2/ "opentk")
